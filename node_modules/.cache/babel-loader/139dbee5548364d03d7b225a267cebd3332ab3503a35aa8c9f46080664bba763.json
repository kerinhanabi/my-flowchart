{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"node-main\"\n};\nconst _hoisted_2 = [\"textContent\"];\nconst _hoisted_3 = [\"textContent\"];\nconst _hoisted_4 = {\n  class: \"node-delete\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"flowchart-node\", {\n      selected: $props.options.selected === $props.id\n    }]),\n    style: _normalizeStyle($options.nodeStyle),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => $options.handleMousedown && $options.handleMousedown(...args)),\n    onMouseover: _cache[4] || (_cache[4] = (...args) => $options.handleMouseOver && $options.handleMouseOver(...args)),\n    onMouseleave: _cache[5] || (_cache[5] = (...args) => $options.handleMouseLeave && $options.handleMouseLeave(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"node-port node-input\",\n    onMousedown: _cache[0] || (_cache[0] = (...args) => $options.inputMouseDown && $options.inputMouseDown(...args)),\n    onMouseup: _cache[1] || (_cache[1] = (...args) => $options.inputMouseUp && $options.inputMouseUp(...args))\n  }, null, 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    textContent: _toDisplayString($props.type),\n    class: \"node-type\"\n  }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", {\n    textContent: _toDisplayString($props.label),\n    class: \"node-label\"\n  }, null, 8 /* PROPS */, _hoisted_3)]), _createElementVNode(\"div\", {\n    class: \"node-port node-output\",\n    onMousedown: _cache[2] || (_cache[2] = (...args) => $options.outputMouseDown && $options.outputMouseDown(...args))\n  }, null, 32 /* NEED_HYDRATION */), _withDirectives(_createElementVNode(\"div\", _hoisted_4, \"Ã—\", 512 /* NEED_PATCH */), [[_vShow, $data.show.delete]])], 38 /* CLASS, STYLE, NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","_createElementBlock","_normalizeClass","selected","$props","options","id","style","_normalizeStyle","$options","nodeStyle","onMousedown","_cache","args","handleMousedown","onMouseover","handleMouseOver","onMouseleave","handleMouseLeave","_createElementVNode","inputMouseDown","onMouseup","inputMouseUp","_hoisted_1","textContent","_toDisplayString","type","_hoisted_2","label","_hoisted_3","outputMouseDown","_hoisted_4","$data","show","delete"],"sources":["/Users/kerinwong/Documents/VSCode_tutorial/my-simple-flowchart/src/components/FlowchartNode.vue"],"sourcesContent":["<template>\n    <div class=\"flowchart-node\" :style=\"nodeStyle\" \n      @mousedown=\"handleMousedown\"\n      @mouseover=\"handleMouseOver\"\n      @mouseleave=\"handleMouseLeave\"\n      v-bind:class=\"{selected: options.selected === id}\">\n      <div class=\"node-port node-input\"\n        @mousedown=\"inputMouseDown\"\n        @mouseup=\"inputMouseUp\">\n      </div>\n      <div class=\"node-main\">\n        <div v-text=\"type\" class=\"node-type\"></div>\n        <div v-text=\"label\" class=\"node-label\"></div>\n      </div>\n      <div class=\"node-port node-output\" \n        @mousedown=\"outputMouseDown\">\n      </div>\n      <div class=\"node-delete\" v-show=\"show.delete\">&times;</div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'FlowchartNode',\n    props: {\n      id: {\n        type: Number,\n        default: 1000,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },\n      x: {\n        type: Number,\n        default: 0,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },    \n      y: {\n        type: Number,\n        default: 0,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },\n      type: {\n        type: String,\n        default: 'Default'\n      },\n      label: {\n        type: String,\n        default: 'input name'\n      },\n      options: {\n        type: Object,\n        default() {\n          return {\n            centerX: 1024,\n            scale: 1,\n            centerY: 140,\n          }\n        }\n      }\n    },\n    data() {\n      return {\n        show: {\n          delete: false,\n        }\n      }\n    },\n    mounted() {\n    },\n    computed: {\n      nodeStyle() {\n        return {\n          top: this.options.centerY + this.y * this.options.scale + 'px', // remove: this.options.offsetTop + \n          left: this.options.centerX + this.x * this.options.scale + 'px', // remove: this.options.offsetLeft + \n          transform: `scale(${this.options.scale})`,\n        }\n      }\n    },\n    methods: {\n      getRandomPosition() {\n        return Math.random() * 500;\n      },\n      handleMousedown(e) {\n        const target = e.target || e.srcElement;\n        // console.log(target);\n        if (target.className.indexOf('node-input') < 0 && target.className.indexOf('node-output') < 0) {\n          this.$emit('nodeSelected', e);\n        }\n        e.preventDefault();\n      },\n      handleMouseOver() {\n        this.show.delete = true;\n      },\n      handleMouseLeave() {\n        this.show.delete = false;\n      },\n      outputMouseDown(e) {\n        this.$emit('linkingStart')\n        e.preventDefault();\n      },\n      inputMouseDown(e) {\n        e.preventDefault();\n      },\n      inputMouseUp(e) {\n        this.$emit('linkingStop')\n        e.preventDefault();\n      },\n    }\n  }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped lang=\"scss\">\n  $themeColor: rgb(255, 136, 85);\n  $portSize: 12;\n  \n  .flowchart-node {\n    margin: 0;\n    width: 80px;\n    height: 80px;\n    position: absolute;\n    box-sizing: border-box;\n    border: none;\n    background: white;\n    z-index: 1;\n    opacity: .9;\n    cursor: move;\n    transform-origin: top left;\n    .node-main {\n      text-align: center;\n      .node-type {\n        background: $themeColor;\n        color: white;\n        font-size: 13px;\n        padding: 6px;\n      }\n      .node-label {\n        font-size: 13px;\n      }\n    }\n    .node-port {\n      position: absolute;\n      width: #{$portSize}px;\n      height: #{$portSize}px;\n      left: 50%;\n      transform: translate(-50%);\n      border: 1px solid #ccc;\n      border-radius: 100px;\n      background: white;\n      &:hover {\n        background: $themeColor;\n        border: 1px solid $themeColor;\n      }\n    }\n    .node-input {\n      top: #{-2+$portSize/-2}px;\n    }\n    .node-output {\n      bottom: #{-2+$portSize/-2}px;\n    }\n    .node-delete {\n      position: absolute;\n      right: -6px;\n      top: -6px;\n      font-size: 12px;\n      width: 12px;\n      height: 12px;\n      color: $themeColor;\n      cursor: pointer;\n      background: white;\n      border: 1px solid $themeColor;\n      border-radius: 100px;\n      text-align: center;\n      &:hover{\n        background: $themeColor;\n        color: white;\n      }\n    }\n  }\n  .selected {\n    box-shadow: 0 0 0 2px $themeColor;\n  }\n  </style>\n  \n\n\n\n\n"],"mappings":";;EAUWA,KAAK,EAAC;AAAW;mBAV5B;mBAAA;;EAiBWA,KAAK,EAAC;AAAa;;uBAhB1BC,mBAAA,CAiBM;IAjBDD,KAAK,EADdE,eAAA,EACe,gBAAgB;MAAAC,QAAA,EAIAC,MAAA,CAAAC,OAAO,CAACF,QAAQ,KAAKC,MAAA,CAAAE;IAAE;IAJrBC,KAAK,EADtCC,eAAA,CACwCC,QAAA,CAAAC,SAAS;IAC1CC,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAK,eAAA,IAAAL,QAAA,CAAAK,eAAA,IAAAD,IAAA,CAAe;IAC1BE,WAAS,EAAAH,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAO,eAAA,IAAAP,QAAA,CAAAO,eAAA,IAAAH,IAAA,CAAe;IAC1BI,YAAU,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAS,gBAAA,IAAAT,QAAA,CAAAS,gBAAA,IAAAL,IAAA,CAAgB;MAE7BM,mBAAA,CAGM;IAHDnB,KAAK,EAAC,sBAAsB;IAC9BW,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAW,cAAA,IAAAX,QAAA,CAAAW,cAAA,IAAAP,IAAA,CAAc;IACzBQ,SAAO,EAAAT,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAa,YAAA,IAAAb,QAAA,CAAAa,YAAA,IAAAT,IAAA,CAAY;qCAExBM,mBAAA,CAGM,OAHNI,UAGM,GAFJJ,mBAAA,CAA2C;IAXnDK,WAAA,EAWaC,gBAAA,CAAarB,MAAL,CAAAsB,IAAI;IAAE1B,KAAK,EAAC;0BAXjC2B,UAAA,GAYQR,mBAAA,CAA6C;IAZrDK,WAAA,EAYaC,gBAAA,CAAcrB,MAAN,CAAAwB,KAAK;IAAE5B,KAAK,EAAC;0BAZlC6B,UAAA,E,GAcMV,mBAAA,CAEM;IAFDnB,KAAK,EAAC,uBAAuB;IAC/BW,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAqB,eAAA,IAAArB,QAAA,CAAAqB,eAAA,IAAAjB,IAAA,CAAe;qDAE7BM,mBAAA,CAA2D,OAA3DY,UAA2D,EAAb,GAAO,0B,SAApBC,KAAA,CAAAC,IAAI,CAACC,MAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}