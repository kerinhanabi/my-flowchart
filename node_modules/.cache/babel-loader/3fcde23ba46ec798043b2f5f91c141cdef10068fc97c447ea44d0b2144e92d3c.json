{"ast":null,"code":"export default {\n  name: 'FlowchartNode',\n  props: {\n    id: {\n      type: Number,\n      default: 1000,\n      validator(val) {\n        return typeof val === 'number';\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number';\n      }\n    },\n    y: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number';\n      }\n    },\n    type: {\n      type: String,\n      default: 'Default'\n    },\n    label: {\n      type: String,\n      default: 'input name'\n    },\n    options: {\n      type: Object,\n      default() {\n        return {\n          centerX: 1024,\n          scale: 1,\n          centerY: 140\n        };\n      }\n    }\n  },\n  data() {\n    return {\n      show: {\n        delete: false\n      }\n    };\n  },\n  mounted() {},\n  computed: {\n    nodeStyle() {\n      return {\n        top: this.options.centerY + this.y * this.options.scale + 'px',\n        // remove: this.options.offsetTop + \n        left: this.options.centerX + this.x * this.options.scale + 'px',\n        // remove: this.options.offsetLeft + \n        transform: `scale(${this.options.scale})`\n      };\n    }\n  },\n  methods: {\n    handleMousedown(e) {\n      const target = e.target || e.srcElement;\n      // console.log(target);\n      if (target.className.indexOf('node-input') < 0 && target.className.indexOf('node-output') < 0) {\n        this.$emit('nodeSelected', e);\n      }\n      e.preventDefault();\n    },\n    handleMouseOver() {\n      this.show.delete = true;\n    },\n    handleMouseLeave() {\n      this.show.delete = false;\n    },\n    outputMouseDown(e) {\n      this.$emit('linkingStart');\n      e.preventDefault();\n    },\n    inputMouseDown(e) {\n      e.preventDefault();\n    },\n    inputMouseUp(e) {\n      this.$emit('linkingStop');\n      e.preventDefault();\n    }\n  }\n};","map":{"version":3,"names":["name","props","id","type","Number","default","validator","val","x","y","String","label","options","Object","centerX","scale","centerY","data","show","delete","mounted","computed","nodeStyle","top","left","transform","methods","handleMousedown","e","target","srcElement","className","indexOf","$emit","preventDefault","handleMouseOver","handleMouseLeave","outputMouseDown","inputMouseDown","inputMouseUp"],"sources":["/Users/kerinwong/Documents/VSCode_tutorial/my-simple-flowchart/src/components/FlowchartNode.vue"],"sourcesContent":["<template>\n    <div class=\"flowchart-node\" :style=\"nodeStyle\" \n      @mousedown=\"handleMousedown\"\n      @mouseover=\"handleMouseOver\"\n      @mouseleave=\"handleMouseLeave\"\n      v-bind:class=\"{selected: options.selected === id}\">\n      <div class=\"node-port node-input\"\n        @mousedown=\"inputMouseDown\"\n        @mouseup=\"inputMouseUp\">\n      </div>\n      <div class=\"node-main\">\n        <div v-text=\"type\" class=\"node-type\"></div>\n        <div v-text=\"label\" class=\"node-label\"></div>\n      </div>\n      <div class=\"node-port node-output\" \n        @mousedown=\"outputMouseDown\">\n      </div>\n      <div v-show=\"show.delete\" class=\"node-delete\">&times;</div>\n\n      <button @click=\"$emit('nodeDelete')\">Delete Node</button>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'FlowchartNode',\n    props: {\n      id: {\n        type: Number,\n        default: 1000,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },\n      x: {\n        type: Number,\n        default: 0,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },    \n      y: {\n        type: Number,\n        default: 0,\n        validator(val) {\n          return typeof val === 'number'\n        }\n      },\n      type: {\n        type: String,\n        default: 'Default'\n      },\n      label: {\n        type: String,\n        default: 'input name'\n      },\n      options: {\n        type: Object,\n        default() {\n          return {\n            centerX: 1024,\n            scale: 1,\n            centerY: 140,\n          }\n        }\n      }\n    },\n    data() {\n      return {\n        show: {\n          delete: false,\n        },\n      }\n    },\n    mounted() {\n    },\n    computed: {\n      nodeStyle() {\n        return {\n          top: this.options.centerY + this.y * this.options.scale + 'px', // remove: this.options.offsetTop + \n          left: this.options.centerX + this.x * this.options.scale + 'px', // remove: this.options.offsetLeft + \n          transform: `scale(${this.options.scale})`,\n        }\n      }\n    },\n    methods: {\n      handleMousedown(e) {\n        const target = e.target || e.srcElement;\n        // console.log(target);\n        if (target.className.indexOf('node-input') < 0 && target.className.indexOf('node-output') < 0) {\n          this.$emit('nodeSelected', e);\n        }\n        e.preventDefault();\n      },\n      handleMouseOver() {\n        this.show.delete = true;\n      },\n      handleMouseLeave() {\n        this.show.delete = false;\n      },\n      outputMouseDown(e) {\n        this.$emit('linkingStart')\n        e.preventDefault();\n      },\n      inputMouseDown(e) {\n        e.preventDefault();\n      },\n      inputMouseUp(e) {\n        this.$emit('linkingStop')\n        e.preventDefault();\n      },\n    }\n  }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped lang=\"scss\">\n  $themeColor: rgb(255, 136, 85);\n  $portSize: 12;\n  \n  .flowchart-node {\n    margin: 0;\n    width: 80px;\n    height: 80px;\n    position: absolute;\n    box-sizing: border-box;\n    border: none;\n    background: white;\n    z-index: 1;\n    opacity: .9;\n    cursor: move;\n    transform-origin: top left;\n    .node-main {\n      text-align: center;\n      .node-type {\n        background: $themeColor;\n        color: white;\n        font-size: 13px;\n        padding: 6px;\n      }\n      .node-label {\n        font-size: 13px;\n      }\n    }\n    .node-port {\n      position: absolute;\n      width: #{$portSize}px;\n      height: #{$portSize}px;\n      left: 50%;\n      transform: translate(-50%);\n      border: 1px solid #ccc;\n      border-radius: 100px;\n      background: white;\n      &:hover {\n        background: $themeColor;\n        border: 1px solid $themeColor;\n      }\n    }\n    .node-input {\n      top: #{-2+$portSize/-2}px;\n    }\n    .node-output {\n      bottom: #{-2+$portSize/-2}px;\n    }\n    .node-delete {\n      position: absolute;\n      right: -6px;\n      top: -6px;\n      font-size: 12px;\n      width: 12px;\n      height: 12px;\n      color: $themeColor;\n      cursor: pointer;\n      background: white;\n      border: 1px solid $themeColor;\n      border-radius: 100px;\n      text-align: center;\n      &:hover{\n        background: $themeColor;\n        color: white;\n      }\n    }\n  }\n  .selected {\n    box-shadow: 0 0 0 2px $themeColor;\n  }\n  </style>\n  \n"],"mappings":"AAwBE,eAAe;EACbA,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,EAAE,EAAE;MACFC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,IAAI;MACbC,SAASA,CAACC,GAAG,EAAE;QACb,OAAO,OAAOA,GAAE,KAAM,QAAO;MAC/B;IACF,CAAC;IACDC,CAAC,EAAE;MACDL,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,CAAC;MACVC,SAASA,CAACC,GAAG,EAAE;QACb,OAAO,OAAOA,GAAE,KAAM,QAAO;MAC/B;IACF,CAAC;IACDE,CAAC,EAAE;MACDN,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,CAAC;MACVC,SAASA,CAACC,GAAG,EAAE;QACb,OAAO,OAAOA,GAAE,KAAM,QAAO;MAC/B;IACF,CAAC;IACDJ,IAAI,EAAE;MACJA,IAAI,EAAEO,MAAM;MACZL,OAAO,EAAE;IACX,CAAC;IACDM,KAAK,EAAE;MACLR,IAAI,EAAEO,MAAM;MACZL,OAAO,EAAE;IACX,CAAC;IACDO,OAAO,EAAE;MACPT,IAAI,EAAEU,MAAM;MACZR,OAAOA,CAAA,EAAG;QACR,OAAO;UACLS,OAAO,EAAE,IAAI;UACbC,KAAK,EAAE,CAAC;UACRC,OAAO,EAAE;QACX;MACF;IACF;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,MAAM,EAAE;MACV;IACF;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG,CACV,CAAC;EACDC,QAAQ,EAAE;IACRC,SAASA,CAAA,EAAG;MACV,OAAO;QACLC,GAAG,EAAE,IAAI,CAACX,OAAO,CAACI,OAAM,GAAI,IAAI,CAACP,CAAA,GAAI,IAAI,CAACG,OAAO,CAACG,KAAI,GAAI,IAAI;QAAE;QAChES,IAAI,EAAE,IAAI,CAACZ,OAAO,CAACE,OAAM,GAAI,IAAI,CAACN,CAAA,GAAI,IAAI,CAACI,OAAO,CAACG,KAAI,GAAI,IAAI;QAAE;QACjEU,SAAS,EAAE,SAAS,IAAI,CAACb,OAAO,CAACG,KAAK;MACxC;IACF;EACF,CAAC;EACDW,OAAO,EAAE;IACPC,eAAeA,CAACC,CAAC,EAAE;MACjB,MAAMC,MAAK,GAAID,CAAC,CAACC,MAAK,IAAKD,CAAC,CAACE,UAAU;MACvC;MACA,IAAID,MAAM,CAACE,SAAS,CAACC,OAAO,CAAC,YAAY,IAAI,KAAKH,MAAM,CAACE,SAAS,CAACC,OAAO,CAAC,aAAa,IAAI,CAAC,EAAE;QAC7F,IAAI,CAACC,KAAK,CAAC,cAAc,EAAEL,CAAC,CAAC;MAC/B;MACAA,CAAC,CAACM,cAAc,CAAC,CAAC;IACpB,CAAC;IACDC,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACjB,IAAI,CAACC,MAAK,GAAI,IAAI;IACzB,CAAC;IACDiB,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAAClB,IAAI,CAACC,MAAK,GAAI,KAAK;IAC1B,CAAC;IACDkB,eAAeA,CAACT,CAAC,EAAE;MACjB,IAAI,CAACK,KAAK,CAAC,cAAc;MACzBL,CAAC,CAACM,cAAc,CAAC,CAAC;IACpB,CAAC;IACDI,cAAcA,CAACV,CAAC,EAAE;MAChBA,CAAC,CAACM,cAAc,CAAC,CAAC;IACpB,CAAC;IACDK,YAAYA,CAACX,CAAC,EAAE;MACd,IAAI,CAACK,KAAK,CAAC,aAAa;MACxBL,CAAC,CAACM,cAAc,CAAC,CAAC;IACpB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}