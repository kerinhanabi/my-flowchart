{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = [\"d\"];\nconst _hoisted_2 = [\"transform\"];\nconst _hoisted_3 = [\"transform\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"g\", {\n    onMouseover: _cache[1] || (_cache[1] = (...args) => $options.handleMouseOver && $options.handleMouseOver(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => $options.handleMouseLeave && $options.handleMouseLeave(...args))\n  }, [_createElementVNode(\"path\", {\n    d: $options.dAttr,\n    style: _normalizeStyle($options.pathStyle)\n  }, null, 12 /* STYLE, PROPS */, _hoisted_1), $data.show.delete ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.deleteLink && $options.deleteLink(...args))\n  }, [_createElementVNode(\"text\", {\n    \"text-anchor\": \"middle\",\n    transform: $options.arrowTransform,\n    \"font-size\": \"22\"\n  }, \"Ã—\", 8 /* PROPS */, _hoisted_2)])) : (_openBlock(), _createElementBlock(\"path\", {\n    key: 1,\n    d: \"M -1 -1 L 0 1 L 1 -1 z\",\n    style: _normalizeStyle($options.arrowStyle),\n    transform: $options.arrowTransform\n  }, null, 12 /* STYLE, PROPS */, _hoisted_3))], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["_createElementBlock","onMouseover","_cache","args","$options","handleMouseOver","onMouseleave","handleMouseLeave","_createElementVNode","d","dAttr","style","_normalizeStyle","pathStyle","_hoisted_1","$data","show","delete","key","onClick","deleteLink","transform","arrowTransform","_hoisted_2","arrowStyle","_hoisted_3"],"sources":["/Users/kerinwong/Documents/VSCode_tutorial/my-simple-flowchart/src/components/FlowchartLink.vue"],"sourcesContent":["<template>\n    <g @mouseover=\"handleMouseOver\"\n      @mouseleave=\"handleMouseLeave\">\n      <path :d=\"dAttr\" :style=\"pathStyle\"></path>\n      <a v-if=\"show.delete\" @click=\"deleteLink\">\n        <text \n          text-anchor=\"middle\" \n          :transform=\"arrowTransform\"\n          font-size=\"22\">&times;</text>\n      </a>\n      <path v-else d=\"M -1 -1 L 0 1 L 1 -1 z\"\n        :style=\"arrowStyle\"\n        :transform=\"arrowTransform\"></path>\n    </g>\n  </template>\n  \n  <script>\n  export default {\n    name: 'FlowchartLink',\n    props: {\n      // start point position [x, y]\n      start: {\n        type: Array,\n        default() {\n          return [0, 0]\n        }\n      },\n      // end point position [x, y]\n      end: {\n        type: Array,\n        default() {\n          return [0, 0]\n        }\n      },\n      id: Number,\n    },\n    data() {\n      return {\n        show: {\n          delete: false,\n        }\n      }\n    },\n    methods: {\n      handleMouseOver() {\n        if (this.id) {\n          this.show.delete = true;\n        }\n      },\n      handleMouseLeave() {\n        this.show.delete = false;\n      },\n      caculateCenterPoint() {\n        // caculate arrow position: the center point between start and end\n        const dx = (this.end[0] - this.start[0]) / 2;\n        const dy = (this.end[1] - this.start[1]) / 2;\n        return [this.start[0] + dx, this.start[1] + dy];\n      },\n      caculateRotation() {\n        // caculate arrow rotation\n        const angle = -Math.atan2(this.end[0] - this.start[0], this.end[1] - this.start[1]);\n        const degree = angle * 180 / Math.PI;\n        return degree < 0 ? degree + 360 : degree;\n      },\n      deleteLink() {\n        this.$emit('deleteLink')\n      }\n    },\n    computed: {\n      pathStyle() {\n        return {\n          stroke: 'rgb(255, 136, 85)',\n          strokeWidth: 2.73205,\n          fill: 'none',\n        }\n      },\n      arrowStyle() {\n        return {\n          stroke: 'rgb(255, 136, 85)',\n          strokeWidth: 5.73205,\n          fill: 'none',\n        }\n      },\n      arrowTransform() {\n        const [arrowX, arrowY] = this.caculateCenterPoint();\n        const degree = this.caculateRotation()\n        return `translate(${arrowX}, ${arrowY}) rotate(${degree})`;\n      },\n      dAttr() {\n        let cx = this.start[0], cy = this.start[1], ex = this.end[0], ey = this.end[1];\n        let x1 = cx, y1 = cy + 50, x2 = ex, y2 = ey - 50;\n        return `M ${cx}, ${cy} C ${x1}, ${y1}, ${x2}, ${y2}, ${ex}, ${ey}`;\n      }\n    }\n  }\n  </script>\n  \n  <style scoped lang=\"scss\">\n  g {\n    cursor: pointer;\n  }\n  </style>"],"mappings":";mBAAA;mBAAA;mBAAA;;uBACIA,mBAAA,CAYI;IAZAC,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;IAC3BG,YAAU,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,gBAAA,IAAAH,QAAA,CAAAG,gBAAA,IAAAJ,IAAA,CAAgB;MAC7BK,mBAAA,CAA2C;IAApCC,CAAC,EAAEL,QAAA,CAAAM,KAAK;IAAGC,KAAK,EAH7BC,eAAA,CAG+BR,QAAA,CAAAS,SAAS;kCAHxCC,UAAA,GAIeC,KAAA,CAAAC,IAAI,CAACC,MAAM,I,cAApBjB,mBAAA,CAKI;IATVkB,GAAA;IAI6BC,OAAK,EAAAjB,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAgB,UAAA,IAAAhB,QAAA,CAAAgB,UAAA,IAAAjB,IAAA,CAAU;MACtCK,mBAAA,CAG+B;IAF7B,aAAW,EAAC,QAAQ;IACnBa,SAAS,EAAEjB,QAAA,CAAAkB,cAAc;IAC1B,WAAS,EAAC;KAAK,GAAO,iBARhCC,UAAA,E,oBAUMvB,mBAAA,CAEqC;IAZ3CkB,GAAA;IAUmBT,CAAC,EAAC,wBAAwB;IACpCE,KAAK,EAXdC,eAAA,CAWgBR,QAAA,CAAAoB,UAAU;IACjBH,SAAS,EAAEjB,QAAA,CAAAkB;kCAZpBG,UAAA,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}