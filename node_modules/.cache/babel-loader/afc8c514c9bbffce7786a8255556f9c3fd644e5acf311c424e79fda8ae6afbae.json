{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SimpleFlowchart from './components/SimpleFlowchart.vue';\nexport default {\n  name: 'app',\n  components: {\n    SimpleFlowchart\n  },\n  data() {\n    return {\n      scene: {\n        centerX: 1024,\n        centerY: 140,\n        scale: 1,\n        nodes: [{\n          id: 2,\n          x: -700,\n          y: -69,\n          type: 'Action',\n          label: 'test1'\n        }, {\n          id: 4,\n          x: -357,\n          y: 80,\n          type: 'Script',\n          label: 'test2'\n        }, {\n          id: 6,\n          x: -557,\n          y: 80,\n          type: 'Rule',\n          label: 'test3'\n        }],\n        links: [{\n          id: 3,\n          from: 2,\n          // node id the link start\n          to: 4 // node id the link end\n        }]\n      },\n      newNodeType: 0,\n      newNodeLabel: '',\n      nodeCategory: ['rule', 'action', 'script', 'decision', 'fork', 'join']\n    };\n  },\n  methods: {\n    canvasClick(e) {\n      console.log('canvas Click, event:', e);\n    },\n    addNode() {\n      let maxID = Math.max(0, ...this.scene.nodes.map(link => {\n        return link.id;\n      }));\n      this.scene.nodes.push({\n        id: maxID + 1,\n        x: -400,\n        y: 50,\n        type: this.nodeCategory[this.newNodeType],\n        label: this.newNodeLabel ? this.newNodeLabel : `test${maxID + 1}`\n      });\n    },\n    nodeClick(id) {\n      console.log('node click', id);\n    },\n    nodeDelete(id) {\n      console.log('node delete', id);\n    },\n    linkBreak(id) {\n      console.log('link break', id);\n    },\n    linkAdded(link) {\n      console.log('new link added:', link);\n    }\n  }\n};","map":{"version":3,"names":["SimpleFlowchart","name","components","data","scene","centerX","centerY","scale","nodes","id","x","y","type","label","links","from","to","newNodeType","newNodeLabel","nodeCategory","methods","canvasClick","e","console","log","addNode","maxID","Math","max","map","link","push","nodeClick","nodeDelete","linkBreak","linkAdded"],"sources":["/Users/kerinwong/Documents/VSCode_tutorial/my-simple-flowchart/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <h1> simple flowchart</h1>\n    <div class=\"tool-wrapper\">\n      <select v-model=\"newNodeType\">\n        <option v-for=\"(item, index) in nodeCategory\" :key=\"index\" :value=\"index\">{{item}}</option>\n      </select>\n      <input type=\"text\" v-model=\"newNodeLabel\" placeholder=\"Input node label\">\n      <button @click=\"addNode\">ADD</button>\n    </div>\n    \n    <simple-flowchart :scene=\"scene\" \n      @nodeClick=\"nodeClick\"\n      @nodeDelete=\"nodeDelete\"\n      @linkBreak=\"linkBreak\"\n      @linkAdded=\"linkAdded\"\n      @canvasClick=\"canvasClick\"\n      :height=\"800\"/>\n  </div>\n</template>\n\n<script>\nimport SimpleFlowchart from './components/SimpleFlowchart.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    SimpleFlowchart\n  },\n  data() {\n    return {\n      scene: {\n        centerX: 1024,\n        centerY: 140,\n        scale: 1,\n        nodes: [\n          {\n            id: 2,\n            x: -700,\n            y: -69,\n            type: 'Action',\n            label: 'test1',\n          },\n          {\n            id: 4,\n            x: -357,\n            y: 80,\n            type: 'Script',\n            label: 'test2',\n          },\n          {\n            id: 6,\n            x: -557,\n            y: 80,\n            type: 'Rule',\n            label: 'test3',\n          }\n        ],\n        links: [\n          {\n            id: 3,\n            from: 2, // node id the link start\n            to: 4,  // node id the link end\n          }\n        ]\n      },\n      newNodeType: 0,\n      newNodeLabel: '',\n      nodeCategory:[\n        'rule',\n        'action',\n        'script',\n        'decision',\n        'fork',\n        'join',\n      ],\n    }\n  },\n  methods: {\n    canvasClick(e) {\n      console.log('canvas Click, event:', e)\n    },\n    addNode() {\n      let maxID = Math.max(0, ...this.scene.nodes.map((link) => {\n        return link.id\n      }))\n      this.scene.nodes.push({\n        id: maxID + 1,\n        x: -400,\n        y: 50,\n        type: this.nodeCategory[this.newNodeType],\n        label: this.newNodeLabel ? this.newNodeLabel: `test${maxID + 1}`,\n      })\n    },\n    nodeClick(id) {\n      console.log('node click', id);\n    },\n    nodeDelete(id) {\n      console.log('node delete', id);\n    },\n    linkBreak(id) {\n      console.log('link break', id);\n    },\n    linkAdded(link) {\n      console.log('new link added:', link);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  overflow: hidden;\n  height: 800px;\n  .tool-wrapper {\n    position: relative;\n  }\n}\n</style>\n"],"mappings":";AAsBA,OAAOA,eAAc,MAAO,kCAAiC;AAE7D,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,GAAG;QACZC,KAAK,EAAE,CAAC;QACRC,KAAK,EAAE,CACL;UACEC,EAAE,EAAE,CAAC;UACLC,CAAC,EAAE,CAAC,GAAG;UACPC,CAAC,EAAE,CAAC,EAAE;UACNC,IAAI,EAAE,QAAQ;UACdC,KAAK,EAAE;QACT,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,CAAC,EAAE,CAAC,GAAG;UACPC,CAAC,EAAE,EAAE;UACLC,IAAI,EAAE,QAAQ;UACdC,KAAK,EAAE;QACT,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,CAAC,EAAE,CAAC,GAAG;UACPC,CAAC,EAAE,EAAE;UACLC,IAAI,EAAE,MAAM;UACZC,KAAK,EAAE;QACT,EACD;QACDC,KAAK,EAAE,CACL;UACEL,EAAE,EAAE,CAAC;UACLM,IAAI,EAAE,CAAC;UAAE;UACTC,EAAE,EAAE,CAAC,CAAG;QACV;MAEJ,CAAC;MACDC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAC,CACX,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,MAAM,EACN,MAAM;IAEV;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,WAAWA,CAACC,CAAC,EAAE;MACbC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,CAAC;IACvC,CAAC;IACDG,OAAOA,CAAA,EAAG;MACR,IAAIC,KAAI,GAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAACxB,KAAK,CAACI,KAAK,CAACqB,GAAG,CAAEC,IAAI,IAAK;QACxD,OAAOA,IAAI,CAACrB,EAAC;MACf,CAAC,CAAC;MACF,IAAI,CAACL,KAAK,CAACI,KAAK,CAACuB,IAAI,CAAC;QACpBtB,EAAE,EAAEiB,KAAI,GAAI,CAAC;QACbhB,CAAC,EAAE,CAAC,GAAG;QACPC,CAAC,EAAE,EAAE;QACLC,IAAI,EAAE,IAAI,CAACO,YAAY,CAAC,IAAI,CAACF,WAAW,CAAC;QACzCJ,KAAK,EAAE,IAAI,CAACK,YAAW,GAAI,IAAI,CAACA,YAAY,GAAE,OAAOQ,KAAI,GAAI,CAAC;MAChE,CAAC;IACH,CAAC;IACDM,SAASA,CAACvB,EAAE,EAAE;MACZc,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEf,EAAE,CAAC;IAC/B,CAAC;IACDwB,UAAUA,CAACxB,EAAE,EAAE;MACbc,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEf,EAAE,CAAC;IAChC,CAAC;IACDyB,SAASA,CAACzB,EAAE,EAAE;MACZc,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEf,EAAE,CAAC;IAC/B,CAAC;IACD0B,SAASA,CAACL,IAAI,EAAE;MACdP,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEM,IAAI,CAAC;IACtC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}